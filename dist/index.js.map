{"version":3,"sources":["../server/index.js"],"names":["readFileAsync","readFile","run","argv","f","undefined","Error","setup","process","cwd","app","JSON","parse"],"mappings":";;AAIA;;AACA;;AACA;;AACA;;AAEA;;;;AAEA,MAAMA,gBAAgB,qBAAUC,YAAV,CAAtB;;AAEA,MAAMC;AAAA,+BAAM,aAAY;AACtB,QAAIC,YAAKC,CAAL,KAAWC,SAAf,EAA0B;AACxB,YAAM,IAAIC,KAAJ,CAAU,mCAAV,CAAN;AACD;;AAED,UAAMC,QAAQ,MAAMP,cAAc,gBAASQ,QAAQC,GAAR,EAAT,EAAwBN,YAAKC,CAA7B,CAAd,EAA+C,OAA/C,CAApB;;AAEA,UAAMM,MAAM,MAAM,oBAAUC,KAAKC,KAAL,CAAWL,KAAX,CAAV,CAAlB;AACA,uBAASG,GAAT;AACD,GATK;;AAAA;AAAA;AAAA;AAAA,IAAN;;AAWAR","file":"index.js","sourcesContent":["\n\n/* @flow */\n\nimport { argv } from 'yargs';\nimport { readFile } from 'fs';\nimport { promisify } from 'util';\nimport { join as joinPath } from 'path';\n\nimport { createApp, startApp } from './app';\n\nconst readFileAsync = promisify(readFile);\n\nconst run = async () => {\n  if (argv.f === undefined) {\n    throw new Error('Run fake-rest-server -f data.json');\n  }\n\n  const setup = await readFileAsync(joinPath(process.cwd(), argv.f), 'utf-8');\n\n  const app = await createApp(JSON.parse(setup));\n  startApp(app);\n};\n\nrun();\n"]}